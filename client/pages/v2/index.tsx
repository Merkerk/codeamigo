import {
  FileTabs,
  SandpackConsole,
  SandpackLayout,
  SandpackPreview,
  SandpackProvider,
  SandpackStack,
  useActiveCode,
  useSandpack,
} from '@codesandbox/sandpack-react';
import Editor from '@monaco-editor/react';
import { debounce } from 'debounce';
import { AnimatePresence, motion } from 'framer-motion';
import { useWindowSize } from 'hooks/useWindowSize';
import Image from 'next/image';
import {
  Dispatch,
  SetStateAction,
  useEffect,
  useMemo,
  useRef,
  useState,
} from 'react';
import ReactMarkdown from 'react-markdown';
import gfm from 'remark-gfm';

import Icon from 'üë®‚Äçüíªcomponents/Icon';
import { getLanguage, getModelExtension } from 'üë®‚Äçüíªwidgets/Lesson/Editor/utils';
import PrevNext from 'üë®‚Äçüíªwidgets/PrevNext';

import * as hal from '../../assets/hal.png';

const URN = 'urn:';

const transition = { bounce: 0.4, duration: 0.8, type: 'spring' };

const defaultLeftPanelHeight = {
  editor: 'calc(100% - 15rem)',
  instructions: '15rem',
};

const static_steps = [
  {
    checkpoints: [
      {
        message: 'Write "Hello World" in the editor',
        passed: false,
        test: '/Hello World/i',
      },
    ],
    files: {
      '/images/ecuador.jpg': {
        code: 'data:image/jpg;base64,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',
      },
      '/index.html': {
        code: '<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <link rel="stylesheet" href="./styles.css" />\n    <title>Document</title>\n  </head>\n  <body>\n    <h1>Hello </h1>\n  </body>\n</html>',
      },
      '/package.json': {
        code: '{\n  "dependencies": {},\n  "main": "/index.html",\n  "devDependencies": {}\n}',
      },
      '/styles.css': {
        code: 'body {\n  font-family: sans-serif;\n  -webkit-font-smoothing: auto;\n  -moz-font-smoothing: auto;\n  -moz-osx-font-smoothing: grayscale;\n  font-smoothing: auto;\n  text-rendering: optimizeLegibility;\n  font-smooth: always;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none;\n}\n\nh1 {\n  font-size: 1.5rem;\n}',
      },
    },
    instructions:
      '## Introduction to HTML\nObjective: Using **AI as a coding assistant**, you will be able to understand the basics of HTML, including its features, advantages, and how it can be used to build web applications.\n\nBelow is a simple starter template for an HTML application. We will be using this template throughout the lesson. To view your changes, the preview should update automatically. If something goes wrong, try click the **Refresh preview** button.',
    start: '<h1>Hello ',
  },
];

const steps = [
  {
    checkpoints: [],
    files: {
      '/index.js': {
        code: "const http = require('http');\n\nconst hostname = '127.0.0.1';\nconst port = 3000;\n\nconst server = http.createServer((req, res) => {\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'text/html');\n  res.end('Hello world');\n});\n\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`);\n});",
      },
      '/package.json': {
        code: '{\n  "dependencies": {},\n  "scripts": {\n    "start": "node index.js"\n  },\n  "main": "index.js",\n  "devDependencies": {}\n}',
      },
    },
    instructions:
      '## Introduction to Node.js\nObjective: Using **AI as a coding assistant**, you will be able to understand the basics of Node.js, including its features, advantages, and how it can be used to build web applications.\n\nBelow is a simple starter template for a Node.js application. We will be using this template throughout the lesson. To view your changes, click the **Restart Script** button in the bottom right corner of the editor.',
    start: '',
  },
  {
    checkpoints: [
      {
        message: 'Require the http library',
        passed: false,
        test: /const http = require\(['"]http['"]\)/i,
      },
    ],
    files: {
      '/index.js': {
        code: 'const ',
      },
      '/package.json': {
        code: '{\n  "dependencies": {},\n  "scripts": {\n    "start": "node index.js"\n  },\n  "main": "index.js",\n  "devDependencies": {}\n}',
      },
    },
    instructions:
      "Using AI is easy! Start by **typing some code**, and the AI will try to predict what you're going to type next.\n\n Start by typing out `const http = require('http');`\n\n**Note! Make sure you type the code above by hand to get a sense of the power of AI.**\n\n### What is this line doing? \n\nThis line is importing the `http` library from Node.js. The `http` library is used to create a Node.js server.",
    start: 'const ',
  },
  {
    checkpoints: [
      {
        message: 'Set the hostname',
        passed: false,
        // test regex to check if the user has set the hostname which can be
        // either 'localhost' or '127.0.0.1'
        test: /const hostname = ['"]localhost['"]|const hostname = ['"]127\.0\.0\.1['"]/i,
      },
      {
        message: 'Set the port to 3000',
        passed: false,
        // test regex to check if the user has set the port to 3000
        test: /const port = 3000/i,
      },
    ],
    files: {
      '/index.js': {
        code: "// Create a Node.js server using the http library\nconst http = require('http');\n\n// Set the hostname and port\n",
      },
      '/package.json': {
        code: '{\n  "dependencies": {},\n  "scripts": {\n    "start": "node index.js"\n  },\n  "main": "index.js",\n  "devDependencies": {}\n}',
      },
    },
    instructions:
      "Nice work! AI is a lot more powerful when you give it context. We can 'train' the AI to understand the context of our code by adding comments.\n\nLet's keep going. Try again after the comment `// Set the hostname and port`.\n\n**Start by typing the letter 'c'**\n\n### What is this line doing? \n\nThis line is setting the hostname and port for the server. The hostname is the address of the server, and the port is the port that the server will listen on.",
    start: '// Set the hostname and port\n',
  },
  {
    checkpoints: [
      {
        message: 'Create the server',
        passed: false,
        // test regex to check if the user has created the server and responded
        // with 200 'Hello world' or 'Hello world!' or 'hello world' and content type text/html
        test: /const server = http\.createServer\(\(req, res\) => {\s+res\.statusCode = 200;\s+res\.setHeader\('Content-Type', 'text\/html'\);\s+res\.end\(['"]Hello world['"]\);\s+}\);/i,
      },
    ],
    files: {
      '/index.js': {
        code: "// Create a Node.js server using the http library\nconst http = require('http');\n\n// Set the hostname and port\nconst hostname = 'localhost';\nconst port = 3000;\n\n// Create the server and respond with 200 'Hello world' and content type text/html\n",
      },
      '/package.json': {
        code: '{\n  "dependencies": {},\n  "scripts": {\n    "start": "node index.js"\n  },\n  "main": "index.js",\n  "devDependencies": {}\n}',
      },
    },
    instructions:
      "Great! AI helped you set the hostname and port. You may have noticed by now that the **AI is not perfect**. It will make mistakes, and you will need to correct them. Understanding where and when the AI makes mistakes will likely be the future developer's most important job!\n\nLet's keep going. Try again after the comment `// Create the server and respond with 200 'Hello world'`.\n\n**Start by typing the letter 'c'**\n\n### What is this line doing? \n\nThis line is creating the server and responding with 200 'Hello world'. 200 is the status code for a successful response.",
    start: "Create the server and respond with 200 'Hello world'\n",
  },
  {
    checkpoints: [
      {
        message: 'Start the server',
        passed: false,
        // test regex to check if the user has started the server
        // only look for server.listen(port, hostname, () => { and anything after
        test: /server\.listen\(port, hostname, \(\) => {\s+/i,
      },
    ],
    files: {
      '/index.js': {
        code: "// Create a Node.js server using the http library\nconst http = require('http');\n\n// Set the hostname and port\nconst hostname = 'localhost';\nconst port = 3000;\n\n// Create the server and respond with 200 'Hello world'\nconst server = http.createServer((req, res) => {\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'text/html');\n  res.end('Hello world');\n});\n\n// Start the server on `hostname` and `port`\n",
      },
      '/package.json': {
        code: '{\n  "dependencies": {},\n  "scripts": {\n    "start": "node index.js"\n  },\n  "main": "index.js",\n  "devDependencies": {}\n}',
      },
    },
    instructions:
      "Nice work! All that's left is to start the server. Try again after the comment `// Start the server on hostname and port`.\n\n**Start by typing the letter 's'**\n\n### What is this line doing? \n\nThis line is starting the server on `hostname` and `port`.",
    start: '// Start the server on `hostname` and `port`\n',
  },
  {
    checkpoints: [],
    files: {
      '/index.js': {
        code: "// Create a Node.js server using the http library\nconst http = require('http');\n\n// Set the hostname and port\nconst hostname = 'localhost';\nconst port = 3000;\n\n// Create the server and respond with 200 'Hello world'\nconst server = http.createServer((req, res) => {\n  res.statusCode = 200;\n  res.setHeader('Content-Type', 'text/html');\n  res.end('Hello world');\n});\n\n// Start the server\nserver.listen(port, hostname, () => {\n  console.log(`Server running at http://${hostname}:${port}/`);\n});\n",
      },
      '/package.json': {
        code: '{\n  "dependencies": {},\n  "scripts": {\n    "start": "node index.js"\n  },\n  "main": "index.js",\n  "devDependencies": {}\n}',
      },
    },
    instructions:
      'Congratulations! You have created a Node.js server using the http library. You can now run the server by clicking the **Restart script** button in the bottom right corner.',
    start: '',
  },
];

function MonacoEditor({
  currentCheckpoint,
  currentStep,
  files,
  leftPanelHeight,
  onReady,
  setCurrentCheckpoint,
  setIsStepComplete,
  setLeftPanelHeight,
}: {
  currentCheckpoint: number;
  currentStep: number;
  files: any;
  leftPanelHeight: {
    editor: string;
    instructions: string;
  };
  onReady: () => void;
  setCurrentCheckpoint: Dispatch<SetStateAction<number>>;
  setIsStepComplete: Dispatch<SetStateAction<boolean>>;
  setLeftPanelHeight: Dispatch<
    SetStateAction<{
      editor: string;
      instructions: string;
    }>
  >;
}) {
  const { code, updateCode } = useActiveCode();
  const { sandpack } = useSandpack();
  const { activeFile } = sandpack;
  const [completions, setCompletions] = useState<any>([]);
  const editorRef = useRef<any>();
  const monacoRef = useRef<any>();
  const { minWidth } = useWindowSize();
  const sm = minWidth('sm');
  const [full, setFull] = useState(false);

  useEffect(() => {
    setLeftPanelHeight({
      editor: full ? '100%' : 'calc(100% - 15rem)',
      instructions: full ? '0px' : '15rem',
    });
  }, [full]);

  useEffect(() => {
    setFull(false);
    setCompletions([]);
  }, [currentStep]);

  useEffect(() => {
    if (monacoRef.current) {
      monacoRef.current.editor
        .getModels()
        .forEach((model: any) => model.dispose());
      setupModels();
      setupStart();
    }
  }, [currentStep]);

  useEffect(() => {
    if (!monacoRef.current) return;
    if (!editorRef.current) return;
    if (!activeFile) return;
    const model = monacoRef.current.editor.getModel(
      monacoRef.current.Uri.parse(`${URN}${activeFile}`)
    );
    if (model) editorRef.current.setModel(model);
  }, [activeFile, monacoRef.current, editorRef.current]);

  const updatePrompt = async (value: string | undefined, ev: any) => {
    if (!value || !ev) return;
    const lines = value.split(/\n/);
    const line = lines[ev.changes[0].range.startLineNumber - 1];
    const changePos = ev.changes[0].range.endColumn;
    const insert =
      line.substring(0, changePos) + ' [insert] ' + line.substring(changePos);
    lines[ev.changes[0].range.startLineNumber - 1] = insert;
    const prompt =
      'Only respond with code that matches the instructions.\n' +
      steps[currentStep].instructions +
      '\n' +
      `${
        steps[currentStep].checkpoints[currentCheckpoint]?.test
          ? '\n' +
            'Must match regex: ' +
            steps[currentStep].checkpoints[currentCheckpoint]?.test
          : ''
      }` +
      lines.join('\n').split(' [insert] ')[0];
    const suffix = lines.join('\n').split(' [insert] ')[1];

    try {
      const response = await fetch(
        `${process.env.NEXT_PUBLIC_API_URL}/completions`,
        {
          body: JSON.stringify({
            prompt,
            suffix,
          }),
          headers: {
            'Content-Type': 'application/json',
          },
          method: 'POST',
        }
      );

      const completions: { text: string }[] = await response.json();
      const uniqueCompletions = [
        ...new Set(completions.map((item: any) => item.text)),
      ] as string[];
      const suggestion: string = uniqueCompletions[0];

      setCompletions(uniqueCompletions);
      return completions;
    } catch (error) {
      console.log(error);
    }
  };

  const debouncedUpdatePrompt = useMemo(() => debounce(updatePrompt, 100), []);

  const testCheckpoint = (value: string) => {
    const checkpoint = steps[currentStep].checkpoints[currentCheckpoint];
    const test = checkpoint?.test;
    const regex = new RegExp(test);
    let allPassed;
    if (regex.test(value)) {
      setCompletions([]);
      steps[currentStep].checkpoints[currentCheckpoint].passed = true;
      allPassed = steps[currentStep].checkpoints.every(
        (checkpoint: any) => checkpoint.passed
      );
      if (allPassed) {
        setIsStepComplete(true);
      } else {
        const nextCheckpoint = steps[currentStep].checkpoints.findIndex(
          (checkpoint: any) => !checkpoint.passed
        );
        setCurrentCheckpoint(nextCheckpoint);
      }
    }

    return allPassed;
  };

  const setupModels = () => {
    Object.keys(files).forEach((mod) => {
      const model = monacoRef.current.editor.getModel(
        monacoRef.current.Uri.parse(`${URN}${mod}`)
      );
      if (model) return;
      monacoRef.current.editor.createModel(
        files[mod].code,
        getLanguage(mod || ''),
        monacoRef.current.Uri.parse(`${URN}${mod}`)
      );
    });
    const model = monacoRef.current.editor.getModel(
      monacoRef.current.Uri.parse(`${URN}${activeFile}`)
    );
    model?.updateOptions({ tabSize: 2 });
    editorRef.current.setModel(model);
  };

  const setupCompilerOptions = () => {
    const jsxFactory = 'React.createElement';
    const reactNamespace = 'React';
    const hasNativeTypescript = false;

    monacoRef.current.languages.typescript.javascriptDefaults.setEagerModelSync(
      true
    );

    const tsConfigFile = Object.keys(files).find(
      (module) => module === '/tsconfig.json'
    );
    const tsConfig = tsConfigFile
      ? JSON.parse(files[tsConfigFile].code || '')
      : undefined;

    // https://github.com/codesandbox/codesandbox-client/blob/master/packages/app/src/embed/components/Content/Monaco/index.js
    monacoRef.current.languages.typescript.typescriptDefaults.setCompilerOptions(
      {
        allowJs: true,
        allowNonTsExtensions: !hasNativeTypescript,
        experimentalDecorators: true,
        jsx: tsConfig?.compilerOptions
          ? tsConfig?.compilerOptions.jsx
          : monacoRef.current.languages.typescript.JsxEmit.React,
        jsxFactory,
        module: hasNativeTypescript
          ? monacoRef.current.languages.typescript.ModuleKind.ES2015
          : monacoRef.current.languages.typescript.ModuleKind.System,
        moduleResolution:
          monacoRef.current.languages.typescript.ModuleResolutionKind.NodeJs,
        // forceConsistentCasingInFileNames:
        //   hasNativeTypescript && existingConfig.forceConsistentCasingInFileNames,
        // noImplicitReturns:
        //   hasNativeTypescript && existingConfig.noImplicitReturns,
        // noImplicitThis: hasNativeTypescript && existingConfig.noImplicitThis,
        // noImplicitAny: hasNativeTypescript && existingConfig.noImplicitAny,
        // strictNullChecks: hasNativeTypescript && existingConfig.strictNullChecks,
        // suppressImplicitAnyIndexErrors:
        //   hasNativeTypescript && existingConfig.suppressImplicitAnyIndexErrors,
        // noUnusedLocals: hasNativeTypescript && existingConfig.noUnusedLocals,
        newLine: monacoRef.current.languages.typescript.NewLineKind.LineFeed,

        noEmit: true,

        reactNamespace,

        target: monacoRef.current.languages.typescript.ScriptTarget.ES2016,

        typeRoots: [`node_modules/@types`],
      }
    );
  };

  const setupStart = () => {
    const match = editorRef.current
      .getModel()
      .findMatches(steps[currentStep].start, true, false, false, null, true)[0];

    if (!match) return;
    editorRef.current.setPosition(match.range.getEndPosition());
    editorRef.current.focus();
  };

  class InlineCompleter {
    async provideInlineCompletions() {
      const completions = await updatePrompt(editorRef.current.getValue(), {
        changes: [
          {
            range: {
              startColumn: editorRef.current.getPosition().column,
              startLineNumber: editorRef.current.getPosition().lineNumber,
            },
          },
        ],
      });
      if (!completions) return;
      return {
        items: completions.map((completion) => {
          return { insertText: completion.text };
        }),
      };
    }
    freeInlineCompletions() {}
  }

  const setupInlineCompletions = () => {
    monacoRef.current.languages.registerInlineCompletionsProvider(
      { pattern: '**' },
      new InlineCompleter()
    );
  };

  const handleMount = (editor: any, monaco: any) => {
    if (monacoRef.current) return;
    monacoRef.current = monaco;
    editorRef.current = editor;

    setupInlineCompletions();
    setupCompilerOptions();
    setupModels();
    setupStart();
    onReady();
  };

  const extension = getModelExtension(activeFile);
  const isImage =
    extension === 'jpg' ||
    extension === 'png' ||
    extension === 'gif' ||
    extension === 'svg' ||
    extension === 'jpeg';

  return (
    <SandpackStack
      className="relative z-30 transition-all"
      style={{ height: `${leftPanelHeight.editor}`, margin: 0 }}
    >
      <Checkpoints currentStep={currentStep} />
      <FileTabs />
      <div
        className={`flex h-full w-full items-center justify-center ${
          isImage ? 'block' : 'hidden'
        }`}
      >
        <img className="w-1/2" src={sandpack.files[activeFile].code} />
      </div>
      <div className={`h-full ${isImage ? 'hidden' : 'block'}`}>
        <Editor
          defaultValue={code}
          height="100%"
          language="javascript"
          onChange={(value, ev) => {
            const allPassed = testCheckpoint(value || '');
            setCompletions([]);
            updateCode(value || '');
            if (allPassed) return;
            if (ev.changes[0].text.length === 1) {
              debouncedUpdatePrompt(value, ev);
            }
          }}
          onMount={handleMount}
          options={{
            fontSize: sm ? 16 : 12,
            minimap: {
              enabled: false,
            },
            quickSuggestions: false,
            scrollBeyondLastLine: false,
            wordWrap: 'on',
          }}
          theme="vs-dark"
          width="100%"
        />
      </div>
      <div className="absolute bottom-4 w-full">
        <AnimatePresence>
          {completions.length > 0 && (
            <motion.div
              animate="show"
              className="mb-1 flex w-full items-center justify-center gap-3"
              initial="hidden"
              variants={{
                hidden: { opacity: 0 },
                show: {
                  opacity: 1,
                  transition: {
                    staggerChildren: 0.2,
                  },
                },
              }}
            >
              {completions.map((completion: string) => (
                <motion.div
                  className="relative cursor-pointer rounded-md bg-white p-2 font-bold text-black hover:bg-gray-200"
                  key={completion}
                  onClick={() => {
                    editorRef.current.executeEdits('my-source', [
                      {
                        forceMoveMarkers: true,
                        identifier: { major: 1, minor: 1 },
                        // @ts-ignore
                        range: new monaco.Range(
                          editorRef.current.getPosition().lineNumber,
                          editorRef.current.getPosition().column,
                          editorRef.current.getPosition().lineNumber,
                          editorRef.current.getPosition().column
                        ),
                        text: completion,
                      },
                    ]);
                    editorRef.current.setPosition({
                      column: editorRef.current.getPosition().column,
                      lineNumber: editorRef.current.getPosition().lineNumber,
                    });
                    editorRef.current.focus();
                    setCompletions([]);
                    const allPassed = testCheckpoint(
                      editorRef.current.getValue()
                    );
                    if (allPassed) return;
                    // updatePrompt(editorRef.current.getValue(), {
                    //   changes: [
                    //     {
                    //       range: {
                    //         startColumn: editorRef.current.getPosition().column,
                    //         startLineNumber:
                    //           editorRef.current.getPosition().lineNumber,
                    //       },
                    //     },
                    //   ],
                    // });
                  }}
                  variants={{
                    hidden: { opacity: 0, top: '10px' },
                    show: { opacity: 1, top: '0px' },
                  }}
                >
                  {completion}
                </motion.div>
              ))}
            </motion.div>
          )}
        </AnimatePresence>
      </div>
      <Icon
        className="absolute bottom-0 right-0 m-2 text-neutral-400 hover:text-white"
        name={full ? 'resize-small' : 'resize-full'}
        onClick={() => setFull(!full)}
      />
    </SandpackStack>
  );
}

const Markdown = ({
  currentStep,
  leftPanelHeight,
  setLeftPanelHeight,
}: {
  currentStep: number;
  leftPanelHeight: {
    editor: string;
    instructions: string;
  };
  setLeftPanelHeight: Dispatch<
    SetStateAction<{
      editor: string;
      instructions: string;
    }>
  >;
}) => {
  const [full, setFull] = useState(false);

  useEffect(() => {
    setFull(false);
  }, [currentStep]);

  useEffect(() => {
    setLeftPanelHeight({
      editor: full ? '0px' : 'calc(100% - 15rem)',
      instructions: full ? '100%' : '15rem',
    });
  }, [full]);

  return (
    <div
      className={`relative z-20 border-neutral-700 bg-neutral-900 transition-all`}
      key={currentStep}
      style={{ height: `${leftPanelHeight.instructions}` }}
    >
      <ReactMarkdown
        children={steps[currentStep].instructions}
        className="markdown-body h-full overflow-scroll py-2 px-3"
        plugins={[gfm]}
      />
      <Icon
        className="absolute bottom-0 right-0 m-2 text-neutral-400 hover:text-white"
        name={full ? 'resize-small' : 'resize-full'}
        onClick={() => setFull(!full)}
      />
    </div>
  );
};

const Checkpoints = ({ currentStep }: { currentStep: number }) => {
  return (
    <div>
      {steps[currentStep].checkpoints?.map((checkpoint) => {
        return (
          <div
            className="relative z-20 flex items-center gap-2 bg-black p-2 px-3"
            key={checkpoint.message}
          >
            <div
              className={`flex h-4 w-4 items-center justify-center rounded-full border ${
                checkpoint.passed
                  ? 'border-green-500 bg-green-900'
                  : 'border-neutral-500 bg-black'
              }`}
            >
              <Icon
                className={`text-xxs ${
                  checkpoint.passed ? `text-green-500` : 'text-neutral-500'
                }`}
                // @ts-ignore
                name={checkpoint.passed ? 'check' : ''}
              />
            </div>
            <pre>{checkpoint.message}</pre>
          </div>
        );
      })}
    </div>
  );
};

const V2 = () => {
  const [ready, setReady] = useState(false);
  const [loaderReady, setLoaderReady] = useState(false);
  const [editorReady, setEditorReady] = useState(false);
  const [currentStep, setCurrentStep] = useState(0);
  const [currentCheckpoint, setCurrentCheckpoint] = useState(0);
  const [leftPanelHeight, setLeftPanelHeight] = useState(
    defaultLeftPanelHeight
  );
  const [isStepComplete, setIsStepComplete] = useState(false);

  useEffect(() => {
    setLeftPanelHeight(defaultLeftPanelHeight);
  }, [currentStep]);

  useEffect(() => {
    const allPassed =
      steps[currentStep].checkpoints.every((checkpoint) => checkpoint.passed) ||
      !steps[currentStep].checkpoints.length;
    setIsStepComplete(allPassed);
  }, [currentStep]);

  useEffect(() => {
    const nextCheckpoint = steps[currentStep].checkpoints.findIndex(
      (checkpoint) => {
        return !checkpoint.passed;
      }
    );
    if (nextCheckpoint !== -1) {
      setCurrentCheckpoint(nextCheckpoint);
    }
  }, [currentStep]);

  useEffect(() => {
    let timeout: any;
    if (loaderReady && editorReady) {
      timeout = setTimeout(() => {
        setReady(true);
      }, 2000);
    }

    return () => {
      if (timeout) {
        clearTimeout(timeout);
      }
    };
  }, [editorReady, loaderReady]);

  return (
    <AnimatePresence>
      <motion.div
        animate={ready ? { opacity: 1, scale: 1 } : { opacity: 0, scale: 0.8 }}
        className="flex w-full flex-col items-center justify-center gap-3 p-5 md:h-full"
        initial={{ opacity: 0, scale: 0 }}
        style={{ transformOrigin: 'center' }}
        transition={transition}
      >
        <div
          className="h-full overflow-hidden rounded-lg border border-neutral-700"
          style={{ width: '94%' }}
        >
          <SandpackProvider
            files={steps[currentStep].files}
            template="node"
            theme={'dark'}
          >
            <SandpackLayout>
              <SandpackStack className="editor-instructions-container !h-full">
                <Markdown
                  currentStep={currentStep}
                  leftPanelHeight={leftPanelHeight}
                  setLeftPanelHeight={setLeftPanelHeight}
                />
                <MonacoEditor
                  currentCheckpoint={currentCheckpoint}
                  currentStep={currentStep}
                  files={steps[currentStep].files}
                  leftPanelHeight={leftPanelHeight}
                  onReady={() => setEditorReady(true)}
                  setCurrentCheckpoint={setCurrentCheckpoint}
                  setIsStepComplete={setIsStepComplete}
                  setLeftPanelHeight={setLeftPanelHeight}
                />
              </SandpackStack>
              <SandpackStack className="!h-full">
                <SandpackPreview />
                <SandpackConsole />
              </SandpackStack>
            </SandpackLayout>
          </SandpackProvider>
        </div>
        <PrevNext
          currentStep={currentStep}
          disabled={!isStepComplete}
          setCurrentStep={setCurrentStep}
          steps={steps.length}
        />
      </motion.div>
      <motion.div
        animate={
          ready || !loaderReady
            ? { opacity: 0, scale: 0 }
            : { opacity: 1, scale: 1 }
        }
        className="fixed top-0 left-0 flex h-full w-full items-center justify-center text-white"
        initial={{ opacity: 0.5, scale: 0.5 }}
        style={{ transformOrigin: 'center' }}
        transition={transition}
      >
        <Image
          height={60}
          onLoad={() => setLoaderReady(true)}
          src={hal}
          width={60}
        />
        <span className="absolute flex h-3 w-3">
          <span className="absolute inline-flex h-full w-full animate-ping rounded-full bg-[#F9D154] opacity-75"></span>
        </span>
      </motion.div>
    </AnimatePresence>
  );
};

export default V2;
